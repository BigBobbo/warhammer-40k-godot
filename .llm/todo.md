# AI Audit Tasks

> Source: AI_AUDIT.md — 82 items across P0-P3 priorities

## P0 — Critical (AI plays incorrectly without these)

- [x] Implement AI charge declarations — evaluate charge feasibility (distance, probability), declare charges against optimal targets, compute model positions post-charge (AI-GAP-1, CHARGE-1 through CHARGE-3)
- [x] Implement pile-in movement — move models up to 3" toward nearest enemy during fight phase (AI-GAP-2, FIGHT-1)
- [x] Implement consolidation movement — move models up to 3" toward nearest enemy or objective after fighting (AI-GAP-2, FIGHT-2)
- [x] Implement fall-back model positioning — compute valid fall-back destinations away from enemy engagement range (MOV-6)

## P1 — High (AI plays very poorly without these)

- [x] Add weapon range checking to target scoring — score 0 for out-of-range targets (AI-GAP-5, SHOOT-4)
- [x] Implement focus fire system — coordinate weapon assignments across all shooting units to concentrate on kill thresholds (AI-TACTIC-2, SHOOT-1)
- [x] Implement weapon-target efficiency matching — match anti-tank to vehicles, anti-infantry to hordes, avoid wasting multi-damage on single-wound models (AI-TACTIC-5, SHOOT-2)
- [ ] Add invulnerable save to target scoring — use min(modified_save, invuln) in shooting target evaluation (AI-GAP-6, SHOOT-3)
- [ ] Add weapon keyword awareness to target scoring — Blast, Rapid Fire, Melta, Anti-keyword, Torrent, Sustained/Lethal/Devastating Wounds (SHOOT-5)
- [ ] Implement basic stratagem usage — start with Grenade, Fire Overwatch, Go to Ground, Command Re-roll, Smokescreen (AI-GAP-3)
- [ ] Implement unit ability awareness — read abilities, factor leader bonuses, detect "Fall Back and X" (AI-GAP-4)
- [ ] Implement scout move execution — move scout units toward nearest uncontrolled objective (SCOUT-1, SCOUT-2)
- [ ] Add enemy threat range awareness — calculate charge threat zones and shooting ranges, avoid moving into danger (AI-TACTIC-4, MOV-2)
- [ ] Add shooting range consideration to movement — don't move units out of their weapon range (MOV-1)
- [ ] Implement screening/deep strike denial — position cheap units to deny enemy deep strike zones (AI-TACTIC-3, MOV-4)
- [ ] Implement reserves deployment — bring reserve units onto the board from Round 2+ (MOV-8)
- [ ] Implement leader attachment in formations — evaluate and attach leaders to bodyguard units (FORM-1)
- [ ] Add terrain-aware deployment — place units behind LoS-blocking terrain for cover (DEPLOY-1)
- [ ] Add AI turn summary panel — consume existing AIPlayer signals to show what happened (QoL-1)
- [ ] Add AI thinking indicator — show visual feedback during AI processing (QoL-2)
- [ ] Add AI movement path visualization — draw movement trails during AI unit movement (VIS-1)

## P2 — Medium (AI competence and feel improvements)

- [ ] Implement target priority framework — macro-level threat ranking + micro-level weapon allocation (AI-TACTIC-1)
- [ ] Implement multi-phase planning — movement considers shooting lanes, shooting considers upcoming charges (AI-TACTIC-6)
- [ ] Implement trade/tempo awareness — track points values, adjust aggression based on VP score (AI-TACTIC-7)
- [ ] Implement secondary mission awareness — factor secondary conditions into positioning and targeting (AI-TACTIC-8)
- [ ] Implement Heavy weapon stationary bonus — prefer remaining stationary when Heavy bonus is significant (MOV-3)
- [ ] Implement engaged unit survival assessment — estimate fight-phase damage before hold/fall-back decision (MOV-9)
- [ ] Implement multi-weapon melee optimization — use Extra Attacks weapons, pick best weapon per target (AI-GAP-7, FIGHT-3)
- [ ] Implement fight target optimization — score melee targets by expected damage, not just distance (FIGHT-4)
- [ ] Add range-band optimization — prefer Rapid Fire half-range, Melta half-range positioning (SHOOT-6)
- [ ] Add cover consideration in target scoring — penalize targets with Benefit of Cover (SHOOT-7)
- [ ] Implement Counter-Operative stratagem — use 2CP when AI's high-value melee unit is at risk (FIGHT-5)
- [ ] Implement transport usage — embark in formations, disembark during movement (FORM-2, MOV-7)
- [ ] Implement reserves declarations — put appropriate units in strategic reserves or deep strike (FORM-3)
- [ ] Add Rapid Ingress stratagem — arrive from reserves at end of opponent's movement (AI-GAP-3 Phase 3)
- [ ] Add AI speed controls — configurable action delay (QoL-3)
- [ ] Add AI decision explanations — enhanced _ai_description with reasoning (QoL-4)
- [ ] Add AI shooting target lines — visual targeting feedback (VIS-2)
- [ ] Add objective control flash on change — highlight when AI flips objectives (VIS-4)

## P3 — Low (Polish and competitive-level play)

- [ ] Implement AI difficulty levels — Easy/Normal/Hard with different heuristic depths (QoL-5)
- [ ] Implement army-specific strategies — melee/shooting/balanced/elite archetypes (QoL-6)
- [ ] Implement move blocking — position units to block enemy movement corridors (AI-TACTIC-9)
- [ ] Implement late-game strategy pivot — shift priorities based on turn and VP score (AI-TACTIC-10)
- [ ] Implement counter-deployment — react to opponent's deployment choices (DEPLOY-2)
- [ ] Implement faction ability activation — Oath of Moment target, Waaagh! declaration (CMD-3)
- [ ] Implement fight order optimization — choose which unit fights first for best outcomes (FIGHT-6)
- [ ] Implement secondary mission discard logic — discard unachievable secondaries for CP (SCORE-2)
- [ ] Add Pistol usage in engagement range — fire Pistols when in melee (SHOOT-9)
- [ ] Add counter-play to opponent stratagems — penalize targets with defensive buffs (SHOOT-10)
- [ ] Implement charge multi-target declarations — declare charges against multiple nearby enemies (CHARGE-4)
- [ ] Implement overwatch risk assessment — weigh charge benefit vs. overwatch damage (CHARGE-5)
- [ ] Add AI unit highlighting during actions — glow effect on active unit (VIS-5)
- [ ] Add floating damage numbers — combat text for damage and kills (VIS-6)
- [ ] Add AI action log overlay — scrolling real-time action feed (VIS-7)
- [ ] Add AI vs AI spectator improvements — auto-slow and dual summaries (QoL-7)
- [ ] Add AI turn replay — review previous AI turn actions (QoL-8)
- [ ] Add post-game AI performance summary — VP, kills, objectives, CP spent (QoL-9)
- [ ] Implement charge arrow visualization — show charge declarations visually (VIS-3)
